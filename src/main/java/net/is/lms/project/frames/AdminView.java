/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package net.is.lms.project.frames;

import net.is.lms.project.dialogs.BookDialog;
import net.is.lms.project.dialogs.BorrowBookDialog;
import net.is.lms.project.dialogs.UserDialog;
import net.is.lms.project.instances.Book;
import net.is.lms.project.instances.BorrowedBooks;
import net.is.lms.project.instances.User;
import net.is.lms.project.utilities.Analytics;
import net.is.lms.project.utilities.CellRenderer;
import net.is.lms.project.utilities.CellRendererReturnBooks;
import net.is.lms.project.utilities.ImageRenderer;
import org.json.simple.JSONArray;
import org.json.simple.JSONObject;
import org.json.simple.parser.JSONParser;

import javax.swing.*;
import javax.swing.event.DocumentEvent;
import javax.swing.event.DocumentListener;
import javax.swing.table.DefaultTableModel;
import javax.swing.table.TableCellRenderer;
import java.awt.*;
import java.io.File;
import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.Objects;

/**
 * @author Deniz Orhan & David Jamnig
 */
public class AdminView extends javax.swing.JFrame {
    private final FetchObjects objects = new FetchObjects();
    private final Analytics analytics = new Analytics("Admin");
    private JSONArray jsonArrayBooks = new JSONArray();
    private JSONArray jsonArrayUsers = new JSONArray();
    private JSONArray jsonArrayBorrowedBooks = new JSONArray();

    /**
     * Creates new form AdminView
     */
    public AdminView() {
        initComponents();
        setTitle("Library Management System - Administrator");
        setExtendedState(JFrame.MAXIMIZED_BOTH); // maximiert Frame am Start
        setLocationRelativeTo(null);
        addIcons();
        setNimbusLook();

        //Updates Tables
        setTableModels();
        objects.updateBookList();
        objects.updateUserList();
        objects.updateBorrowedBookList();
        updateReturnBooksAV();
        fetchTables();
        addTableListener();

        updateStatistics();

        jPanel3MainBooksOverviewAV.setVisible(true);
        jPanel10MainBookManagementAV.setVisible(false);
        jPanel16MainUserManagementAV.setVisible(false);
        jPanel13MainReturnBooksAV.setVisible(false);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel1MenubarAV = new javax.swing.JPanel();
        jPanel2TitleBlockAV = new javax.swing.JPanel();
        jLabel1TitleAV = new javax.swing.JLabel();
        jLabel2IconAV = new javax.swing.JLabel();
        jLabel3SubtitleAV = new javax.swing.JLabel();
        jButton1BookOverviewAV = new javax.swing.JButton();
        jButton2BookManagementAV = new javax.swing.JButton();
        jButton3ReturnBooksAV = new javax.swing.JButton();
        jButton4UserManagementAV = new javax.swing.JButton();
        jButton5LogoutAV = new javax.swing.JButton();
        jLayeredPane1 = new javax.swing.JLayeredPane();
        jPanel3MainBooksOverviewAV = new javax.swing.JPanel();
        jPanel4BooksOverviewUV = new javax.swing.JPanel();
        jLabel4TitleBooksOverviewAV = new javax.swing.JLabel();
        jPanel5AllBooksAV = new javax.swing.JPanel();
        jLabel5AllBooksTitleAV = new javax.swing.JLabel();
        jLabel6AllBooksSubtitleAV = new javax.swing.JLabel();
        jPanel6AvBooksAV = new javax.swing.JPanel();
        jLabel7AvBooksTitleAV = new javax.swing.JLabel();
        jLabel8AvBooksSubtitleAV = new javax.swing.JLabel();
        jPanel6BowBooksAV = new javax.swing.JPanel();
        jLabel9BowBooksTitleAV = new javax.swing.JLabel();
        jLabel10BowBooksSubtitleAV = new javax.swing.JLabel();
        jPanel7BowBooksDeadlineAV = new javax.swing.JPanel();
        jLabel11BowBooksDeadlineTitleAV = new javax.swing.JLabel();
        jLabel12BowBooksDeadlineSubtitleAV = new javax.swing.JLabel();
        jPanel8RegUsersAV = new javax.swing.JPanel();
        jLabel13RegUsersTitleAV = new javax.swing.JLabel();
        jLabel14RegUsersSubtitleAV = new javax.swing.JLabel();
        jPanel9BooksOverviewTableAV = new javax.swing.JPanel();
        jLabel15BooksOverviewSearchAV = new javax.swing.JLabel();
        jTextField1BooksOverviewSearchAV = new javax.swing.JTextField();
        jScrollPaneBooksOverviewAV = new javax.swing.JScrollPane();
        jTable1BooksOverviewAV = new javax.swing.JTable() {
            public boolean editCellAt(int row, int column, java.util.EventObject e) {
                return false;
            }
        };
        jPanel10MainBookManagementAV = new javax.swing.JPanel();
        jLabel16BookManagementTitleAV = new javax.swing.JLabel();
        jPanel11BookManagementButtonsAV = new javax.swing.JPanel();
        jButton6AddBookAV = new javax.swing.JButton();
        jButton7EditBookAV = new javax.swing.JButton();
        jButton8DeleteBookAV = new javax.swing.JButton();
        jButton9BorrowBookAV = new javax.swing.JButton();
        jPanel12BookManagementTableAV = new javax.swing.JPanel();
        jLabel17BookManagementSearchAV = new javax.swing.JLabel();
        jTextField2BookManagementSearchAV = new javax.swing.JTextField();
        jScrollPaneBookManagementAV = new javax.swing.JScrollPane();
        jTable2BookManagementAV = new javax.swing.JTable() {
            public boolean editCellAt(int row, int column, java.util.EventObject e) {
                return false;
            }
        };
        jPanel13MainReturnBooksAV = new javax.swing.JPanel();
        jLabel17ReturnBooksTitleAV = new javax.swing.JLabel();
        jPanel14ReturnBooksButtonsAV = new javax.swing.JPanel();
        jButton10ReturnBooksAV = new javax.swing.JButton();
        jPanel15ReturnBooksTableAV = new javax.swing.JPanel();
        jLabel18ReturnBooksSearchAV = new javax.swing.JLabel();
        jTextField3ReturnBooksAV = new javax.swing.JTextField();
        jScrollPaneReturnBooksAV = new javax.swing.JScrollPane();
        jTable3ReturnBooksAV = new javax.swing.JTable() {
            public boolean editCellAt(int row, int column, java.util.EventObject e) {
                return false;
            }
        };
        jPanel16MainUserManagementAV = new javax.swing.JPanel();
        jLabel19UserManagementTitleAV = new javax.swing.JLabel();
        jPanel17UserManagementButtonsAV = new javax.swing.JPanel();
        jButton11AddUserAV = new javax.swing.JButton();
        jButton12EditUserAV = new javax.swing.JButton();
        jButton13DeleteUserAV = new javax.swing.JButton();
        jPanel18UserManagementTableAV = new javax.swing.JPanel();
        jLabel20UserManagementSearchAV = new javax.swing.JLabel();
        jTextField4UserManagementSearchAV = new javax.swing.JTextField();
        jScrollPaneUserManagementAV = new javax.swing.JScrollPane();
        jTable4UserManagementAV = new javax.swing.JTable() {
            public boolean editCellAt(int row, int column, java.util.EventObject e) {
                return false;
            }
        };

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setBackground(new java.awt.Color(255, 255, 255));

        jPanel1MenubarAV.setBackground(new java.awt.Color(122, 173, 210));
        jPanel1MenubarAV.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));

        jPanel2TitleBlockAV.setBackground(new java.awt.Color(65, 123, 165));
        jPanel2TitleBlockAV.setBorder(javax.swing.BorderFactory.createMatteBorder(0, 0, 1, 0, new java.awt.Color(0, 0, 0)));
        jPanel2TitleBlockAV.setPreferredSize(new java.awt.Dimension(280, 114));
        jPanel2TitleBlockAV.setRequestFocusEnabled(false);

        jLabel1TitleAV.setFont(new java.awt.Font("Segoe UI", 1, 24)); // NOI18N
        jLabel1TitleAV.setText("Library Management");

        jLabel2IconAV.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);

        jLabel3SubtitleAV.setFont(new java.awt.Font("Segoe UI", 1, 18)); // NOI18N
        jLabel3SubtitleAV.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel3SubtitleAV.setText("Administrator");
        jLabel3SubtitleAV.setToolTipText("");

        javax.swing.GroupLayout jPanel2TitleBlockAVLayout = new javax.swing.GroupLayout(jPanel2TitleBlockAV);
        jPanel2TitleBlockAV.setLayout(jPanel2TitleBlockAVLayout);
        jPanel2TitleBlockAVLayout.setHorizontalGroup(
                jPanel2TitleBlockAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel2TitleBlockAVLayout.createSequentialGroup()
                                .addGroup(jPanel2TitleBlockAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addGroup(jPanel2TitleBlockAVLayout.createSequentialGroup()
                                                .addContainerGap()
                                                .addComponent(jLabel2IconAV, javax.swing.GroupLayout.PREFERRED_SIZE, 67, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                                .addComponent(jLabel1TitleAV))
                                        .addGroup(jPanel2TitleBlockAVLayout.createSequentialGroup()
                                                .addGap(103, 103, 103)
                                                .addComponent(jLabel3SubtitleAV)))
                                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel2TitleBlockAVLayout.setVerticalGroup(
                jPanel2TitleBlockAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel2TitleBlockAVLayout.createSequentialGroup()
                                .addGroup(jPanel2TitleBlockAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addGroup(jPanel2TitleBlockAVLayout.createSequentialGroup()
                                                .addGap(15, 15, 15)
                                                .addComponent(jLabel1TitleAV))
                                        .addGroup(jPanel2TitleBlockAVLayout.createSequentialGroup()
                                                .addGap(3, 3, 3)
                                                .addComponent(jLabel2IconAV, javax.swing.GroupLayout.PREFERRED_SIZE, 58, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                .addGap(12, 12, 12)
                                .addComponent(jLabel3SubtitleAV)
                                .addContainerGap(15, Short.MAX_VALUE))
        );

        jButton1BookOverviewAV.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        jButton1BookOverviewAV.setText("Books Overview");
        jButton1BookOverviewAV.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButton1BookOverviewAV.setPreferredSize(new java.awt.Dimension(147, 33));
        jButton1BookOverviewAV.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1BookOverviewAVActionPerformed(evt);
            }
        });

        jButton2BookManagementAV.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        jButton2BookManagementAV.setText("Book Management");
        jButton2BookManagementAV.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButton2BookManagementAV.setPreferredSize(new java.awt.Dimension(147, 33));
        jButton2BookManagementAV.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton2BookManagementAVActionPerformed(evt);
            }
        });

        jButton3ReturnBooksAV.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        jButton3ReturnBooksAV.setText("Return Books");
        jButton3ReturnBooksAV.setToolTipText("");
        jButton3ReturnBooksAV.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButton3ReturnBooksAV.setPreferredSize(new java.awt.Dimension(147, 33));
        jButton3ReturnBooksAV.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton3ReturnBooksAVActionPerformed(evt);
            }
        });

        jButton4UserManagementAV.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        jButton4UserManagementAV.setText("User Management");
        jButton4UserManagementAV.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButton4UserManagementAV.setPreferredSize(new java.awt.Dimension(147, 33));
        jButton4UserManagementAV.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton4UserManagementAVActionPerformed(evt);
            }
        });

        jButton5LogoutAV.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        jButton5LogoutAV.setText("Logout");
        jButton5LogoutAV.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButton5LogoutAV.setPreferredSize(new java.awt.Dimension(147, 33));
        jButton5LogoutAV.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton5LogoutAVActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel1MenubarAVLayout = new javax.swing.GroupLayout(jPanel1MenubarAV);
        jPanel1MenubarAV.setLayout(jPanel1MenubarAVLayout);
        jPanel1MenubarAVLayout.setHorizontalGroup(
                jPanel1MenubarAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(jPanel2TitleBlockAV, javax.swing.GroupLayout.DEFAULT_SIZE, 323, Short.MAX_VALUE)
                        .addGroup(jPanel1MenubarAVLayout.createSequentialGroup()
                                .addGap(90, 90, 90)
                                .addGroup(jPanel1MenubarAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addComponent(jButton4UserManagementAV, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(jButton2BookManagementAV, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(jButton5LogoutAV, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(jButton3ReturnBooksAV, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(jButton1BookOverviewAV, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel1MenubarAVLayout.setVerticalGroup(
                jPanel1MenubarAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel1MenubarAVLayout.createSequentialGroup()
                                .addComponent(jPanel2TitleBlockAV, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(32, 32, 32)
                                .addComponent(jButton1BookOverviewAV, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(31, 31, 31)
                                .addComponent(jButton2BookManagementAV, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(31, 31, 31)
                                .addComponent(jButton3ReturnBooksAV, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(31, 31, 31)
                                .addComponent(jButton4UserManagementAV, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 377, Short.MAX_VALUE)
                                .addComponent(jButton5LogoutAV, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(37, 37, 37))
        );

        jLabel4TitleBooksOverviewAV.setFont(new java.awt.Font("Segoe UI", 1, 48)); // NOI18N
        jLabel4TitleBooksOverviewAV.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel4TitleBooksOverviewAV.setText("Books Overview");

        jPanel5AllBooksAV.setBackground(new java.awt.Color(78, 170, 70));
        jPanel5AllBooksAV.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));
        jPanel5AllBooksAV.setMinimumSize(new java.awt.Dimension(121, 134));
        jPanel5AllBooksAV.setPreferredSize(new java.awt.Dimension(134, 134));
        jPanel5AllBooksAV.setRequestFocusEnabled(false);

        jLabel5AllBooksTitleAV.setFont(new java.awt.Font("Segoe UI", 1, 16)); // NOI18N
        jLabel5AllBooksTitleAV.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel5AllBooksTitleAV.setText("<html><div align=\"center\">All Books</div></html>");
        jLabel5AllBooksTitleAV.setPreferredSize(new java.awt.Dimension(122, 22));

        jLabel6AllBooksSubtitleAV.setFont(new java.awt.Font("Segoe UI", 1, 18)); // NOI18N
        jLabel6AllBooksSubtitleAV.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel6AllBooksSubtitleAV.setText("0");

        javax.swing.GroupLayout jPanel5AllBooksAVLayout = new javax.swing.GroupLayout(jPanel5AllBooksAV);
        jPanel5AllBooksAV.setLayout(jPanel5AllBooksAVLayout);
        jPanel5AllBooksAVLayout.setHorizontalGroup(
                jPanel5AllBooksAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel5AllBooksAVLayout.createSequentialGroup()
                                .addContainerGap()
                                .addGroup(jPanel5AllBooksAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addComponent(jLabel5AllBooksTitleAV, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 119, Short.MAX_VALUE)
                                        .addComponent(jLabel6AllBooksSubtitleAV, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                .addContainerGap())
        );
        jPanel5AllBooksAVLayout.setVerticalGroup(
                jPanel5AllBooksAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel5AllBooksAVLayout.createSequentialGroup()
                                .addGap(12, 12, 12)
                                .addComponent(jLabel5AllBooksTitleAV, javax.swing.GroupLayout.PREFERRED_SIZE, 41, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(jLabel6AllBooksSubtitleAV, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addGap(26, 26, 26))
        );

        jPanel6AvBooksAV.setBackground(new java.awt.Color(245, 158, 30));
        jPanel6AvBooksAV.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));
        jPanel6AvBooksAV.setMinimumSize(new java.awt.Dimension(121, 134));
        jPanel6AvBooksAV.setPreferredSize(new java.awt.Dimension(139, 134));
        jPanel6AvBooksAV.setRequestFocusEnabled(false);

        jLabel7AvBooksTitleAV.setFont(new java.awt.Font("Segoe UI", 1, 16)); // NOI18N
        jLabel7AvBooksTitleAV.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel7AvBooksTitleAV.setText("<html><div align=\"center\">Available Books</div></html>");
        jLabel7AvBooksTitleAV.setMaximumSize(new java.awt.Dimension(122, 44));
        jLabel7AvBooksTitleAV.setMinimumSize(new java.awt.Dimension(74, 44));
        jLabel7AvBooksTitleAV.setPreferredSize(new java.awt.Dimension(114, 44));

        jLabel8AvBooksSubtitleAV.setFont(new java.awt.Font("Segoe UI", 1, 18)); // NOI18N
        jLabel8AvBooksSubtitleAV.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel8AvBooksSubtitleAV.setText("0");

        javax.swing.GroupLayout jPanel6AvBooksAVLayout = new javax.swing.GroupLayout(jPanel6AvBooksAV);
        jPanel6AvBooksAV.setLayout(jPanel6AvBooksAVLayout);
        jPanel6AvBooksAVLayout.setHorizontalGroup(
                jPanel6AvBooksAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel6AvBooksAVLayout.createSequentialGroup()
                                .addContainerGap()
                                .addGroup(jPanel6AvBooksAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addComponent(jLabel7AvBooksTitleAV, javax.swing.GroupLayout.DEFAULT_SIZE, 122, Short.MAX_VALUE)
                                        .addComponent(jLabel8AvBooksSubtitleAV, javax.swing.GroupLayout.DEFAULT_SIZE, 122, Short.MAX_VALUE))
                                .addContainerGap())
        );
        jPanel6AvBooksAVLayout.setVerticalGroup(
                jPanel6AvBooksAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel6AvBooksAVLayout.createSequentialGroup()
                                .addGap(12, 12, 12)
                                .addComponent(jLabel7AvBooksTitleAV, javax.swing.GroupLayout.PREFERRED_SIZE, 45, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(jLabel8AvBooksSubtitleAV, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addGap(26, 26, 26))
        );

        jPanel6BowBooksAV.setBackground(new java.awt.Color(101, 180, 255));
        jPanel6BowBooksAV.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));
        jPanel6BowBooksAV.setMinimumSize(new java.awt.Dimension(121, 134));
        jPanel6BowBooksAV.setPreferredSize(new java.awt.Dimension(134, 134));
        jPanel6BowBooksAV.setRequestFocusEnabled(false);

        jLabel9BowBooksTitleAV.setFont(new java.awt.Font("Segoe UI", 1, 16)); // NOI18N
        jLabel9BowBooksTitleAV.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel9BowBooksTitleAV.setText("<html><div align=\"center\">Borrowed<br>Books</div></html>");
        jLabel9BowBooksTitleAV.setToolTipText("");

        jLabel10BowBooksSubtitleAV.setFont(new java.awt.Font("Segoe UI", 1, 18)); // NOI18N
        jLabel10BowBooksSubtitleAV.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel10BowBooksSubtitleAV.setText("0");

        javax.swing.GroupLayout jPanel6BowBooksAVLayout = new javax.swing.GroupLayout(jPanel6BowBooksAV);
        jPanel6BowBooksAV.setLayout(jPanel6BowBooksAVLayout);
        jPanel6BowBooksAVLayout.setHorizontalGroup(
                jPanel6BowBooksAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel6BowBooksAVLayout.createSequentialGroup()
                                .addGroup(jPanel6BowBooksAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addGroup(jPanel6BowBooksAVLayout.createSequentialGroup()
                                                .addGap(8, 8, 8)
                                                .addComponent(jLabel9BowBooksTitleAV, javax.swing.GroupLayout.DEFAULT_SIZE, 118, Short.MAX_VALUE))
                                        .addGroup(jPanel6BowBooksAVLayout.createSequentialGroup()
                                                .addContainerGap()
                                                .addComponent(jLabel10BowBooksSubtitleAV, javax.swing.GroupLayout.DEFAULT_SIZE, 120, Short.MAX_VALUE)))
                                .addContainerGap())
        );
        jPanel6BowBooksAVLayout.setVerticalGroup(
                jPanel6BowBooksAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel6BowBooksAVLayout.createSequentialGroup()
                                .addGap(12, 12, 12)
                                .addComponent(jLabel9BowBooksTitleAV)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jLabel10BowBooksSubtitleAV, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addGap(26, 26, 26))
        );

        jPanel7BowBooksDeadlineAV.setBackground(new java.awt.Color(228, 98, 108));
        jPanel7BowBooksDeadlineAV.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));
        jPanel7BowBooksDeadlineAV.setMinimumSize(new java.awt.Dimension(121, 134));
        jPanel7BowBooksDeadlineAV.setPreferredSize(new java.awt.Dimension(134, 134));
        jPanel7BowBooksDeadlineAV.setRequestFocusEnabled(false);

        jLabel11BowBooksDeadlineTitleAV.setFont(new java.awt.Font("Segoe UI", 1, 16)); // NOI18N
        jLabel11BowBooksDeadlineTitleAV.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel11BowBooksDeadlineTitleAV.setText("<html><div align=\"center\">Borrowed Books over Deadline</div></html>");
        jLabel11BowBooksDeadlineTitleAV.setToolTipText("");

        jLabel12BowBooksDeadlineSubtitleAV.setFont(new java.awt.Font("Segoe UI", 1, 18)); // NOI18N
        jLabel12BowBooksDeadlineSubtitleAV.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel12BowBooksDeadlineSubtitleAV.setText("0");

        javax.swing.GroupLayout jPanel7BowBooksDeadlineAVLayout = new javax.swing.GroupLayout(jPanel7BowBooksDeadlineAV);
        jPanel7BowBooksDeadlineAV.setLayout(jPanel7BowBooksDeadlineAVLayout);
        jPanel7BowBooksDeadlineAVLayout.setHorizontalGroup(
                jPanel7BowBooksDeadlineAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel7BowBooksDeadlineAVLayout.createSequentialGroup()
                                .addGroup(jPanel7BowBooksDeadlineAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addGroup(jPanel7BowBooksDeadlineAVLayout.createSequentialGroup()
                                                .addGap(8, 8, 8)
                                                .addComponent(jLabel11BowBooksDeadlineTitleAV, javax.swing.GroupLayout.DEFAULT_SIZE, 118, Short.MAX_VALUE))
                                        .addGroup(jPanel7BowBooksDeadlineAVLayout.createSequentialGroup()
                                                .addContainerGap()
                                                .addComponent(jLabel12BowBooksDeadlineSubtitleAV, javax.swing.GroupLayout.DEFAULT_SIZE, 120, Short.MAX_VALUE)))
                                .addContainerGap())
        );
        jPanel7BowBooksDeadlineAVLayout.setVerticalGroup(
                jPanel7BowBooksDeadlineAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel7BowBooksDeadlineAVLayout.createSequentialGroup()
                                .addGap(12, 12, 12)
                                .addComponent(jLabel11BowBooksDeadlineTitleAV)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jLabel12BowBooksDeadlineSubtitleAV, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addGap(26, 26, 26))
        );

        jPanel8RegUsersAV.setBackground(new java.awt.Color(178, 114, 255));
        jPanel8RegUsersAV.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));
        jPanel8RegUsersAV.setMinimumSize(new java.awt.Dimension(121, 134));
        jPanel8RegUsersAV.setPreferredSize(new java.awt.Dimension(134, 134));
        jPanel8RegUsersAV.setRequestFocusEnabled(false);

        jLabel13RegUsersTitleAV.setFont(new java.awt.Font("Segoe UI", 1, 16)); // NOI18N
        jLabel13RegUsersTitleAV.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel13RegUsersTitleAV.setText("<html><div align=\"center\">Registered Users</div></html>");
        jLabel13RegUsersTitleAV.setPreferredSize(new java.awt.Dimension(122, 22));

        jLabel14RegUsersSubtitleAV.setFont(new java.awt.Font("Segoe UI", 1, 18)); // NOI18N
        jLabel14RegUsersSubtitleAV.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel14RegUsersSubtitleAV.setText("0");

        javax.swing.GroupLayout jPanel8RegUsersAVLayout = new javax.swing.GroupLayout(jPanel8RegUsersAV);
        jPanel8RegUsersAV.setLayout(jPanel8RegUsersAVLayout);
        jPanel8RegUsersAVLayout.setHorizontalGroup(
                jPanel8RegUsersAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel8RegUsersAVLayout.createSequentialGroup()
                                .addContainerGap()
                                .addGroup(jPanel8RegUsersAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addComponent(jLabel13RegUsersTitleAV, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 119, Short.MAX_VALUE)
                                        .addComponent(jLabel14RegUsersSubtitleAV, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                .addContainerGap())
        );
        jPanel8RegUsersAVLayout.setVerticalGroup(
                jPanel8RegUsersAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel8RegUsersAVLayout.createSequentialGroup()
                                .addGap(12, 12, 12)
                                .addComponent(jLabel13RegUsersTitleAV, javax.swing.GroupLayout.PREFERRED_SIZE, 41, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(jLabel14RegUsersSubtitleAV, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addGap(26, 26, 26))
        );

        javax.swing.GroupLayout jPanel4BooksOverviewUVLayout = new javax.swing.GroupLayout(jPanel4BooksOverviewUV);
        jPanel4BooksOverviewUV.setLayout(jPanel4BooksOverviewUVLayout);
        jPanel4BooksOverviewUVLayout.setHorizontalGroup(
                jPanel4BooksOverviewUVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel4BooksOverviewUVLayout.createSequentialGroup()
                                .addContainerGap(126, Short.MAX_VALUE)
                                .addComponent(jPanel5AllBooksAV, javax.swing.GroupLayout.DEFAULT_SIZE, 133, Short.MAX_VALUE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 56, Short.MAX_VALUE)
                                .addComponent(jPanel6AvBooksAV, javax.swing.GroupLayout.DEFAULT_SIZE, 136, Short.MAX_VALUE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 56, Short.MAX_VALUE)
                                .addComponent(jPanel6BowBooksAV, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 56, Short.MAX_VALUE)
                                .addComponent(jPanel7BowBooksDeadlineAV, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 52, Short.MAX_VALUE)
                                .addComponent(jPanel8RegUsersAV, javax.swing.GroupLayout.DEFAULT_SIZE, 133, Short.MAX_VALUE)
                                .addContainerGap(126, Short.MAX_VALUE))
                        .addGroup(jPanel4BooksOverviewUVLayout.createSequentialGroup()
                                .addContainerGap(398, Short.MAX_VALUE)
                                .addComponent(jLabel4TitleBooksOverviewAV, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addContainerGap(381, Short.MAX_VALUE))
        );
        jPanel4BooksOverviewUVLayout.setVerticalGroup(
                jPanel4BooksOverviewUVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel4BooksOverviewUVLayout.createSequentialGroup()
                                .addGap(20, 20, 20)
                                .addComponent(jLabel4TitleBooksOverviewAV, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addGap(30, 30, 30)
                                .addGroup(jPanel4BooksOverviewUVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                        .addComponent(jPanel5AllBooksAV, javax.swing.GroupLayout.DEFAULT_SIZE, 135, Short.MAX_VALUE)
                                        .addComponent(jPanel6AvBooksAV, javax.swing.GroupLayout.DEFAULT_SIZE, 135, Short.MAX_VALUE)
                                        .addComponent(jPanel6BowBooksAV, javax.swing.GroupLayout.DEFAULT_SIZE, 135, Short.MAX_VALUE)
                                        .addComponent(jPanel7BowBooksDeadlineAV, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 135, Short.MAX_VALUE)
                                        .addComponent(jPanel8RegUsersAV, javax.swing.GroupLayout.DEFAULT_SIZE, 135, Short.MAX_VALUE))
                                .addGap(43, 43, 43))
        );

        jLabel15BooksOverviewSearchAV.setFont(new java.awt.Font("Segoe UI", 1, 18)); // NOI18N
        jLabel15BooksOverviewSearchAV.setText("Search:");

        jTable1BooksOverviewAV.setModel(new javax.swing.table.DefaultTableModel());
        jScrollPaneBooksOverviewAV.setViewportView(jTable1BooksOverviewAV);

        javax.swing.GroupLayout jPanel9BooksOverviewTableAVLayout = new javax.swing.GroupLayout(jPanel9BooksOverviewTableAV);
        jPanel9BooksOverviewTableAV.setLayout(jPanel9BooksOverviewTableAVLayout);
        jPanel9BooksOverviewTableAVLayout.setHorizontalGroup(
                jPanel9BooksOverviewTableAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel9BooksOverviewTableAVLayout.createSequentialGroup()
                                .addContainerGap(100, Short.MAX_VALUE)
                                .addGroup(jPanel9BooksOverviewTableAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                        .addComponent(jScrollPaneBooksOverviewAV)
                                        .addGroup(jPanel9BooksOverviewTableAVLayout.createSequentialGroup()
                                                .addComponent(jLabel15BooksOverviewSearchAV)
                                                .addGap(46, 46, 46)
                                                .addComponent(jTextField1BooksOverviewSearchAV, javax.swing.GroupLayout.DEFAULT_SIZE, 821, Short.MAX_VALUE)))
                                .addContainerGap(101, Short.MAX_VALUE))
        );
        jPanel9BooksOverviewTableAVLayout.setVerticalGroup(
                jPanel9BooksOverviewTableAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel9BooksOverviewTableAVLayout.createSequentialGroup()
                                .addGap(23, 23, 23)
                                .addGroup(jPanel9BooksOverviewTableAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                        .addComponent(jTextField1BooksOverviewSearchAV, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(jLabel15BooksOverviewSearchAV))
                                .addGap(33, 33, 33)
                                .addComponent(jScrollPaneBooksOverviewAV, javax.swing.GroupLayout.DEFAULT_SIZE, 414, Short.MAX_VALUE)
                                .addContainerGap())
        );

        javax.swing.GroupLayout jPanel3MainBooksOverviewAVLayout = new javax.swing.GroupLayout(jPanel3MainBooksOverviewAV);
        jPanel3MainBooksOverviewAV.setLayout(jPanel3MainBooksOverviewAVLayout);
        jPanel3MainBooksOverviewAVLayout.setHorizontalGroup(
                jPanel3MainBooksOverviewAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(jPanel4BooksOverviewUV, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGroup(jPanel3MainBooksOverviewAVLayout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jPanel9BooksOverviewTableAV, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addContainerGap())
        );
        jPanel3MainBooksOverviewAVLayout.setVerticalGroup(
                jPanel3MainBooksOverviewAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel3MainBooksOverviewAVLayout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jPanel4BooksOverviewUV, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jPanel9BooksOverviewTableAV, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jLabel16BookManagementTitleAV.setFont(new java.awt.Font("Segoe UI", 1, 48)); // NOI18N
        jLabel16BookManagementTitleAV.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel16BookManagementTitleAV.setText("Book Management");

        jButton6AddBookAV.setFont(new java.awt.Font("Segoe UI", 0, 16)); // NOI18N
        jButton6AddBookAV.setText("Add Book");
        jButton6AddBookAV.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButton6AddBookAV.setMaximumSize(new java.awt.Dimension(120, 45));
        jButton6AddBookAV.setMinimumSize(new java.awt.Dimension(120, 45));
        jButton6AddBookAV.setPreferredSize(new java.awt.Dimension(120, 45));
        jButton6AddBookAV.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton6AddBookAVActionPerformed(evt);
            }
        });
        jPanel11BookManagementButtonsAV.add(jButton6AddBookAV);

        jButton7EditBookAV.setFont(new java.awt.Font("Segoe UI", 0, 16)); // NOI18N
        jButton7EditBookAV.setText("Edit Book");
        jButton7EditBookAV.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButton7EditBookAV.setMaximumSize(new java.awt.Dimension(120, 45));
        jButton7EditBookAV.setMinimumSize(new java.awt.Dimension(120, 45));
        jButton7EditBookAV.setPreferredSize(new java.awt.Dimension(120, 45));
        jButton7EditBookAV.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton7EditBookAVActionPerformed(evt);
            }
        });
        jPanel11BookManagementButtonsAV.add(jButton7EditBookAV);

        jButton8DeleteBookAV.setFont(new java.awt.Font("Segoe UI", 0, 16)); // NOI18N
        jButton8DeleteBookAV.setText("Delete Book");
        jButton8DeleteBookAV.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButton8DeleteBookAV.setMaximumSize(new java.awt.Dimension(120, 45));
        jButton8DeleteBookAV.setMinimumSize(new java.awt.Dimension(120, 45));
        jButton8DeleteBookAV.setPreferredSize(new java.awt.Dimension(120, 45));
        jButton8DeleteBookAV.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton8DeleteBookAVActionPerformed(evt);
            }
        });
        jPanel11BookManagementButtonsAV.add(jButton8DeleteBookAV);

        jButton9BorrowBookAV.setFont(new java.awt.Font("Segoe UI", 0, 16)); // NOI18N
        jButton9BorrowBookAV.setText("Borrow Book");
        jButton9BorrowBookAV.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButton9BorrowBookAV.setMaximumSize(new java.awt.Dimension(120, 45));
        jButton9BorrowBookAV.setMinimumSize(new java.awt.Dimension(120, 45));
        jButton9BorrowBookAV.setPreferredSize(new java.awt.Dimension(120, 45));
        jButton9BorrowBookAV.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton9BorrowBookAVActionPerformed(evt);
            }
        });
        jPanel11BookManagementButtonsAV.add(jButton9BorrowBookAV);

        jLabel17BookManagementSearchAV.setFont(new java.awt.Font("Segoe UI", 1, 18)); // NOI18N
        jLabel17BookManagementSearchAV.setText("Search:");

        jTable2BookManagementAV.setModel(new javax.swing.table.DefaultTableModel());
        jScrollPaneBookManagementAV.setViewportView(jTable2BookManagementAV);

        javax.swing.GroupLayout jPanel12BookManagementTableAVLayout = new javax.swing.GroupLayout(jPanel12BookManagementTableAV);
        jPanel12BookManagementTableAV.setLayout(jPanel12BookManagementTableAVLayout);
        jPanel12BookManagementTableAVLayout.setHorizontalGroup(
                jPanel12BookManagementTableAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel12BookManagementTableAVLayout.createSequentialGroup()
                                .addContainerGap(100, Short.MAX_VALUE)
                                .addGroup(jPanel12BookManagementTableAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                        .addComponent(jScrollPaneBookManagementAV)
                                        .addGroup(jPanel12BookManagementTableAVLayout.createSequentialGroup()
                                                .addComponent(jLabel17BookManagementSearchAV)
                                                .addGap(46, 46, 46)
                                                .addComponent(jTextField2BookManagementSearchAV, javax.swing.GroupLayout.DEFAULT_SIZE, 826, Short.MAX_VALUE)))
                                .addContainerGap(102, Short.MAX_VALUE))
        );
        jPanel12BookManagementTableAVLayout.setVerticalGroup(
                jPanel12BookManagementTableAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel12BookManagementTableAVLayout.createSequentialGroup()
                                .addGap(23, 23, 23)
                                .addGroup(jPanel12BookManagementTableAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                        .addComponent(jTextField2BookManagementSearchAV, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(jLabel17BookManagementSearchAV))
                                .addGap(33, 33, 33)
                                .addComponent(jScrollPaneBookManagementAV, javax.swing.GroupLayout.DEFAULT_SIZE, 506, Short.MAX_VALUE)
                                .addContainerGap())
        );

        javax.swing.GroupLayout jPanel10MainBookManagementAVLayout = new javax.swing.GroupLayout(jPanel10MainBookManagementAV);
        jPanel10MainBookManagementAV.setLayout(jPanel10MainBookManagementAVLayout);
        jPanel10MainBookManagementAVLayout.setHorizontalGroup(
                jPanel10MainBookManagementAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel10MainBookManagementAVLayout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jPanel12BookManagementTableAV, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addContainerGap())
                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel10MainBookManagementAVLayout.createSequentialGroup()
                                .addContainerGap(280, Short.MAX_VALUE)
                                .addComponent(jLabel16BookManagementTitleAV, javax.swing.GroupLayout.DEFAULT_SIZE, 570, Short.MAX_VALUE)
                                .addContainerGap(295, Short.MAX_VALUE))
                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel10MainBookManagementAVLayout.createSequentialGroup()
                                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(jPanel11BookManagementButtonsAV, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel10MainBookManagementAVLayout.setVerticalGroup(
                jPanel10MainBookManagementAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel10MainBookManagementAVLayout.createSequentialGroup()
                                .addGap(20, 20, 20)
                                .addComponent(jLabel16BookManagementTitleAV, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(30, 30, 30)
                                .addComponent(jPanel11BookManagementButtonsAV, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(43, 43, 43)
                                .addComponent(jPanel12BookManagementTableAV, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addContainerGap())
        );

        jPanel13MainReturnBooksAV.setPreferredSize(new java.awt.Dimension(1146, 814));

        jLabel17ReturnBooksTitleAV.setFont(new java.awt.Font("Segoe UI", 1, 48)); // NOI18N
        jLabel17ReturnBooksTitleAV.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel17ReturnBooksTitleAV.setText("Return Books");

        jButton10ReturnBooksAV.setFont(new java.awt.Font("Segoe UI", 0, 16)); // NOI18N
        jButton10ReturnBooksAV.setText("Return Book");
        jButton10ReturnBooksAV.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButton10ReturnBooksAV.setMaximumSize(new java.awt.Dimension(120, 45));
        jButton10ReturnBooksAV.setMinimumSize(new java.awt.Dimension(120, 45));
        jButton10ReturnBooksAV.setPreferredSize(new java.awt.Dimension(120, 45));
        jButton10ReturnBooksAV.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton10ReturnBooksAVActionPerformed(evt);
            }
        });
        jPanel14ReturnBooksButtonsAV.add(jButton10ReturnBooksAV);

        jLabel18ReturnBooksSearchAV.setFont(new java.awt.Font("Segoe UI", 1, 18)); // NOI18N
        jLabel18ReturnBooksSearchAV.setText("Search:");

        jTable3ReturnBooksAV.setModel(new javax.swing.table.DefaultTableModel());
        jScrollPaneReturnBooksAV.setViewportView(jTable3ReturnBooksAV);

        javax.swing.GroupLayout jPanel15ReturnBooksTableAVLayout = new javax.swing.GroupLayout(jPanel15ReturnBooksTableAV);
        jPanel15ReturnBooksTableAV.setLayout(jPanel15ReturnBooksTableAVLayout);
        jPanel15ReturnBooksTableAVLayout.setHorizontalGroup(
                jPanel15ReturnBooksTableAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel15ReturnBooksTableAVLayout.createSequentialGroup()
                                .addContainerGap(100, Short.MAX_VALUE)
                                .addGroup(jPanel15ReturnBooksTableAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                        .addComponent(jScrollPaneReturnBooksAV)
                                        .addGroup(jPanel15ReturnBooksTableAVLayout.createSequentialGroup()
                                                .addComponent(jLabel18ReturnBooksSearchAV)
                                                .addGap(46, 46, 46)
                                                .addComponent(jTextField3ReturnBooksAV, javax.swing.GroupLayout.DEFAULT_SIZE, 832, Short.MAX_VALUE)))
                                .addContainerGap(100, Short.MAX_VALUE))
        );
        jPanel15ReturnBooksTableAVLayout.setVerticalGroup(
                jPanel15ReturnBooksTableAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel15ReturnBooksTableAVLayout.createSequentialGroup()
                                .addGap(23, 23, 23)
                                .addGroup(jPanel15ReturnBooksTableAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                        .addComponent(jTextField3ReturnBooksAV, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(jLabel18ReturnBooksSearchAV))
                                .addGap(33, 33, 33)
                                .addComponent(jScrollPaneReturnBooksAV, javax.swing.GroupLayout.DEFAULT_SIZE, 512, Short.MAX_VALUE)
                                .addContainerGap())
        );

        javax.swing.GroupLayout jPanel13MainReturnBooksAVLayout = new javax.swing.GroupLayout(jPanel13MainReturnBooksAV);
        jPanel13MainReturnBooksAV.setLayout(jPanel13MainReturnBooksAVLayout);
        jPanel13MainReturnBooksAVLayout.setHorizontalGroup(
                jPanel13MainReturnBooksAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel13MainReturnBooksAVLayout.createSequentialGroup()
                                .addGroup(jPanel13MainReturnBooksAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addComponent(jPanel15ReturnBooksTableAV, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                        .addGroup(jPanel13MainReturnBooksAVLayout.createSequentialGroup()
                                                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                                .addGroup(jPanel13MainReturnBooksAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                                        .addComponent(jPanel14ReturnBooksButtonsAV, javax.swing.GroupLayout.PREFERRED_SIZE, 594, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                        .addComponent(jLabel17ReturnBooksTitleAV, javax.swing.GroupLayout.PREFERRED_SIZE, 605, javax.swing.GroupLayout.PREFERRED_SIZE))
                                                .addGap(0, 0, Short.MAX_VALUE)))
                                .addContainerGap())
        );
        jPanel13MainReturnBooksAVLayout.setVerticalGroup(
                jPanel13MainReturnBooksAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel13MainReturnBooksAVLayout.createSequentialGroup()
                                .addGap(20, 20, 20)
                                .addComponent(jLabel17ReturnBooksTitleAV)
                                .addGap(30, 30, 30)
                                .addComponent(jPanel14ReturnBooksButtonsAV, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(43, 43, 43)
                                .addComponent(jPanel15ReturnBooksTableAV, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jPanel16MainUserManagementAV.setPreferredSize(new java.awt.Dimension(1146, 814));

        jLabel19UserManagementTitleAV.setFont(new java.awt.Font("Segoe UI", 1, 48)); // NOI18N
        jLabel19UserManagementTitleAV.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel19UserManagementTitleAV.setText("User Management");

        jButton11AddUserAV.setFont(new java.awt.Font("Segoe UI", 0, 16)); // NOI18N
        jButton11AddUserAV.setText("Add User");
        jButton11AddUserAV.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButton11AddUserAV.setMaximumSize(new java.awt.Dimension(120, 45));
        jButton11AddUserAV.setMinimumSize(new java.awt.Dimension(120, 45));
        jButton11AddUserAV.setPreferredSize(new java.awt.Dimension(120, 45));
        jButton11AddUserAV.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton11AddUserAVActionPerformed(evt);
            }
        });
        jPanel17UserManagementButtonsAV.add(jButton11AddUserAV);

        jButton12EditUserAV.setFont(new java.awt.Font("Segoe UI", 0, 16)); // NOI18N
        jButton12EditUserAV.setText("Edit User");
        jButton12EditUserAV.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButton12EditUserAV.setMaximumSize(new java.awt.Dimension(120, 45));
        jButton12EditUserAV.setMinimumSize(new java.awt.Dimension(120, 45));
        jButton12EditUserAV.setPreferredSize(new java.awt.Dimension(120, 45));
        jButton12EditUserAV.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton12EditUserAVActionPerformed(evt);
            }
        });
        jPanel17UserManagementButtonsAV.add(jButton12EditUserAV);

        jButton13DeleteUserAV.setFont(new java.awt.Font("Segoe UI", 0, 16)); // NOI18N
        jButton13DeleteUserAV.setText("Delete User");
        jButton13DeleteUserAV.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButton13DeleteUserAV.setMaximumSize(new java.awt.Dimension(120, 45));
        jButton13DeleteUserAV.setMinimumSize(new java.awt.Dimension(120, 45));
        jButton13DeleteUserAV.setPreferredSize(new java.awt.Dimension(120, 45));
        jButton13DeleteUserAV.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton13DeleteUserAVActionPerformed(evt);
            }
        });
        jPanel17UserManagementButtonsAV.add(jButton13DeleteUserAV);

        jLabel20UserManagementSearchAV.setFont(new java.awt.Font("Segoe UI", 1, 18)); // NOI18N
        jLabel20UserManagementSearchAV.setText("Search:");

        jTable4UserManagementAV.setModel(new javax.swing.table.DefaultTableModel());
        jScrollPaneUserManagementAV.setViewportView(jTable4UserManagementAV);

        javax.swing.GroupLayout jPanel18UserManagementTableAVLayout = new javax.swing.GroupLayout(jPanel18UserManagementTableAV);
        jPanel18UserManagementTableAV.setLayout(jPanel18UserManagementTableAVLayout);
        jPanel18UserManagementTableAVLayout.setHorizontalGroup(
                jPanel18UserManagementTableAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel18UserManagementTableAVLayout.createSequentialGroup()
                                .addContainerGap(103, Short.MAX_VALUE)
                                .addGroup(jPanel18UserManagementTableAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                        .addComponent(jScrollPaneUserManagementAV)
                                        .addGroup(jPanel18UserManagementTableAVLayout.createSequentialGroup()
                                                .addComponent(jLabel20UserManagementSearchAV)
                                                .addGap(46, 46, 46)
                                                .addComponent(jTextField4UserManagementSearchAV, javax.swing.GroupLayout.DEFAULT_SIZE, 823, Short.MAX_VALUE)))
                                .addContainerGap(100, Short.MAX_VALUE))
        );
        jPanel18UserManagementTableAVLayout.setVerticalGroup(
                jPanel18UserManagementTableAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel18UserManagementTableAVLayout.createSequentialGroup()
                                .addGap(23, 23, 23)
                                .addGroup(jPanel18UserManagementTableAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                        .addComponent(jTextField4UserManagementSearchAV, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(jLabel20UserManagementSearchAV))
                                .addGap(33, 33, 33)
                                .addComponent(jScrollPaneUserManagementAV, javax.swing.GroupLayout.DEFAULT_SIZE, 506, Short.MAX_VALUE)
                                .addContainerGap())
        );

        javax.swing.GroupLayout jPanel16MainUserManagementAVLayout = new javax.swing.GroupLayout(jPanel16MainUserManagementAV);
        jPanel16MainUserManagementAV.setLayout(jPanel16MainUserManagementAVLayout);
        jPanel16MainUserManagementAVLayout.setHorizontalGroup(
                jPanel16MainUserManagementAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel16MainUserManagementAVLayout.createSequentialGroup()
                                .addContainerGap(244, Short.MAX_VALUE)
                                .addGroup(jPanel16MainUserManagementAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addComponent(jLabel19UserManagementTitleAV, javax.swing.GroupLayout.DEFAULT_SIZE, 653, Short.MAX_VALUE)
                                        .addComponent(jPanel17UserManagementButtonsAV, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                .addContainerGap(244, Short.MAX_VALUE))
                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel16MainUserManagementAVLayout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jPanel18UserManagementTableAV, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addContainerGap())
        );
        jPanel16MainUserManagementAVLayout.setVerticalGroup(
                jPanel16MainUserManagementAVLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel16MainUserManagementAVLayout.createSequentialGroup()
                                .addGap(20, 20, 20)
                                .addComponent(jLabel19UserManagementTitleAV)
                                .addGap(30, 30, 30)
                                .addComponent(jPanel17UserManagementButtonsAV, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(43, 43, 43)
                                .addComponent(jPanel18UserManagementTableAV, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addContainerGap())
        );

        jLayeredPane1.setLayer(jPanel3MainBooksOverviewAV, javax.swing.JLayeredPane.DEFAULT_LAYER);
        jLayeredPane1.setLayer(jPanel10MainBookManagementAV, javax.swing.JLayeredPane.DEFAULT_LAYER);
        jLayeredPane1.setLayer(jPanel13MainReturnBooksAV, javax.swing.JLayeredPane.DEFAULT_LAYER);
        jLayeredPane1.setLayer(jPanel16MainUserManagementAV, javax.swing.JLayeredPane.DEFAULT_LAYER);

        javax.swing.GroupLayout jLayeredPane1Layout = new javax.swing.GroupLayout(jLayeredPane1);
        jLayeredPane1.setLayout(jLayeredPane1Layout);
        jLayeredPane1Layout.setHorizontalGroup(
                jLayeredPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGap(0, 1154, Short.MAX_VALUE)
                        .addGroup(jLayeredPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addGroup(jLayeredPane1Layout.createSequentialGroup()
                                        .addContainerGap()
                                        .addComponent(jPanel3MainBooksOverviewAV, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                        .addContainerGap()))
                        .addGroup(jLayeredPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jLayeredPane1Layout.createSequentialGroup()
                                        .addContainerGap()
                                        .addComponent(jPanel10MainBookManagementAV, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                        .addGroup(jLayeredPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(jPanel13MainReturnBooksAV, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 1154, Short.MAX_VALUE))
                        .addGroup(jLayeredPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addGroup(jLayeredPane1Layout.createSequentialGroup()
                                        .addComponent(jPanel16MainUserManagementAV, javax.swing.GroupLayout.DEFAULT_SIZE, 1148, Short.MAX_VALUE)
                                        .addContainerGap()))
        );
        jLayeredPane1Layout.setVerticalGroup(
                jLayeredPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGap(0, 820, Short.MAX_VALUE)
                        .addGroup(jLayeredPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addGroup(jLayeredPane1Layout.createSequentialGroup()
                                        .addContainerGap()
                                        .addComponent(jPanel3MainBooksOverviewAV, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                        .addContainerGap()))
                        .addGroup(jLayeredPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jLayeredPane1Layout.createSequentialGroup()
                                        .addComponent(jPanel10MainBookManagementAV, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                        .addContainerGap()))
                        .addGroup(jLayeredPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addGroup(jLayeredPane1Layout.createSequentialGroup()
                                        .addContainerGap()
                                        .addComponent(jPanel13MainReturnBooksAV, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                        .addContainerGap()))
                        .addGroup(jLayeredPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addGroup(jLayeredPane1Layout.createSequentialGroup()
                                        .addContainerGap()
                                        .addComponent(jPanel16MainUserManagementAV, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                        .addContainerGap()))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(layout.createSequentialGroup()
                                .addComponent(jPanel1MenubarAV, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jLayeredPane1)
                                .addContainerGap())
        );
        layout.setVerticalGroup(
                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(jPanel1MenubarAV, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(jLayeredPane1)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void jButton1BookOverviewAVActionPerformed(java.awt.event.ActionEvent evt) {
        clearTableSelection();
        jPanel10MainBookManagementAV.setVisible(false);
        jPanel13MainReturnBooksAV.setVisible(false);
        jPanel16MainUserManagementAV.setVisible(false);

        jPanel3MainBooksOverviewAV.setVisible(true);
    }

    private void jButton2BookManagementAVActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2BookManagementAVActionPerformed
        clearTableSelection();
        jPanel3MainBooksOverviewAV.setVisible(false);
        jPanel13MainReturnBooksAV.setVisible(false);
        jPanel16MainUserManagementAV.setVisible(false);

        jPanel10MainBookManagementAV.setVisible(true);
    }//GEN-LAST:event_jButton2BookManagementAVActionPerformed

    private void jButton3ReturnBooksAVActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton3ReturnBooksAVActionPerformed
        clearTableSelection();
        jPanel3MainBooksOverviewAV.setVisible(false);
        jPanel10MainBookManagementAV.setVisible(false);
        jPanel16MainUserManagementAV.setVisible(false);

        jPanel13MainReturnBooksAV.setVisible(true);
    }//GEN-LAST:event_jButton3ReturnBooksAVActionPerformed

    private void jButton4UserManagementAVActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton4UserManagementAVActionPerformed
        clearTableSelection();
        jPanel3MainBooksOverviewAV.setVisible(false);
        jPanel10MainBookManagementAV.setVisible(false);
        jPanel13MainReturnBooksAV.setVisible(false);

        jPanel16MainUserManagementAV.setVisible(true);
    }//GEN-LAST:event_jButton4UserManagementAVActionPerformed

    private void jButton5LogoutAVActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton5LogoutAVActionPerformed
        this.dispose();
        new StandardView().setVisible(true);
    }//GEN-LAST:event_jButton5LogoutAVActionPerformed

    private void jButton6AddBookAVActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton6AddBookAVActionPerformed
        try {
            new BookDialog(this, true, true).setVisible(true);
            objects.updateBookList();
            fetchTables();
            updateStatistics();
        } catch (Exception ex) {
            JOptionPane.showMessageDialog(this, "Unexpected error, please try again", "Error", JOptionPane.ERROR_MESSAGE);
            System.out.println("Error whilst clicking addBookButton: " + ex.getMessage());
        }
    }//GEN-LAST:event_jButton6AddBookAVActionPerformed

    private void jButton7EditBookAVActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton7EditBookAVActionPerformed
        try {
            int rowNumber = jTable2BookManagementAV.getSelectedRow();

            if (rowNumber >= 0) {
                String availability = (String) jTable2BookManagementAV.getValueAt(rowNumber, 6);
                if (availability.equals("Borrowed")) {
                    JOptionPane.showMessageDialog(this, "This book is currently borrowed and cannot be edited!", "Warning!", JOptionPane.WARNING_MESSAGE);
                } else {
                    // Todo mit Änderung der Tabelle muss auhc das abgeändert werden
                    // Holt sich Werte um ins Textfield einzusetzen
                    String coverUrl = (String) jTable2BookManagementAV.getValueAt(rowNumber, 0);
                    String title = (String) jTable2BookManagementAV.getValueAt(rowNumber, 1);
                    String author = (String) jTable2BookManagementAV.getValueAt(rowNumber, 2);
                    String pages = (String) jTable2BookManagementAV.getValueAt(rowNumber, 3);
                    String isbn = (String) jTable2BookManagementAV.getValueAt(rowNumber, 4);
                    String location = (String) jTable2BookManagementAV.getValueAt(rowNumber, 5);
                    //todo cover
                    //String email = (String) table.getValueAt(rowNumber, 5);

                    Book book = new Book(coverUrl, title, author, pages, isbn, location, availability);
                    new BookDialog(this, true, false, book).setVisible(true);
                    objects.updateBookList();
                    fetchTables();
                    updateStatistics();
                }
            } else {
                JOptionPane.showMessageDialog(this, "Please click on the line you want to edit!", "Warning!", JOptionPane.WARNING_MESSAGE);
            }
        } catch (Exception ex) {
            JOptionPane.showMessageDialog(this, "Unexpected error, please try again", "Error", JOptionPane.ERROR_MESSAGE);
            System.out.println("Error whilst clicking editBook: " + ex.getMessage());
        }
    }//GEN-LAST:event_jButton7EditBookAVActionPerformed

    private void jButton8DeleteBookAVActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton8DeleteBookAVActionPerformed
        try {
            int rowNumber = jTable2BookManagementAV.getSelectedRow(); // Holt Nummer der ausgewählten Reihe

            if (rowNumber >= 0) {   // Check ob Reihe ausgewählt ist
                if (JOptionPane.showConfirmDialog(this, "Do you really want to delete " + jTable2BookManagementAV.getValueAt(rowNumber, 1) + "?", "Are you sure?", JOptionPane.OK_CANCEL_OPTION) == 0) { // ConfirmPane
                    String isbn = (String) jTable2BookManagementAV.getValueAt(rowNumber, 4);
                    String status = (String) jTable2BookManagementAV.getValueAt(rowNumber, 6);
                    String coverUrl = (String) jTable2BookManagementAV.getValueAt(rowNumber, 0);
                    if (status.equals("Borrowed")) {
                        JOptionPane.showMessageDialog(this, "This book is currently borrowed and cannot be deleted!", "Warning!", JOptionPane.WARNING_MESSAGE);
                    } else {
                        removeBook(isbn);
                        File destinationFile = new File(coverUrl);
                        if (destinationFile != null) {
                            destinationFile.delete();
                        }
                        objects.updateBookList();
                        updateStatistics();
                        fetchTables();
                    }
                }
            } else { // Fehlermessage
                JOptionPane.showMessageDialog(this, "Please click on the line you want to delete!", "Warning!", JOptionPane.WARNING_MESSAGE);
            }
        } catch (Exception ex) {
            JOptionPane.showMessageDialog(this, "Unexpected error, please try again", "Error", JOptionPane.ERROR_MESSAGE);
            System.out.println("Error whilst clicking deleteBook: " + ex.getMessage());
        }
    }//GEN-LAST:event_jButton8DeleteBookAVActionPerformed

    private void jButton9BorrowBookAVActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton9BorrowBookAVActionPerformed
        try {
            int rowNumber = jTable2BookManagementAV.getSelectedRow();
//            System.out.println(rowNumber);
            if (rowNumber >= 0) {

                String status = (String) jTable2BookManagementAV.getValueAt(rowNumber, 6);
                if (status.equals("Borrowed")) {
                    JOptionPane.showMessageDialog(this, "This book is already borrowed!", "Warning!", JOptionPane.WARNING_MESSAGE);
                } else {
                    String isbn = (String) jTable2BookManagementAV.getValueAt(rowNumber, 4);
                    new BorrowBookDialog(this, true, isbn).setVisible(true);
                    objects.updateBorrowedBookList();
                    objects.updateBookList();
                    fetchTables();
                    updateStatistics();
                    updateReturnBooksAV();
                }
            } else {
                JOptionPane.showMessageDialog(this, "Please click on the line you want to edit!", "Warning!", JOptionPane.WARNING_MESSAGE);
            }
        } catch (Exception ex) {
            JOptionPane.showMessageDialog(this, "Unexpected error, please try again", "Error", JOptionPane.ERROR_MESSAGE);
            System.out.println("Error whilst clicking editUserButton: " + ex.getMessage());
        }
    }//GEN-LAST:event_jButton9BorrowBookAVActionPerformed

    private void jButton10ReturnBooksAVActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton10ReturnBooksAVActionPerformed
        try {
            int rowNumber = jTable3ReturnBooksAV.getSelectedRow();
//            System.out.println(rowNumber);
            if (rowNumber >= 0) {
                if (JOptionPane.showConfirmDialog(null, "Do you really want to return the selected book?", "Are you sure?", JOptionPane.OK_CANCEL_OPTION) == 0) { // ConfirmPane
                    String isbn = (String) jTable3ReturnBooksAV.getValueAt(rowNumber, 2);
                    String username = (String) jTable3ReturnBooksAV.getValueAt(rowNumber, 3);

                    returnBook(isbn, username);

                    objects.updateBookList();
                    objects.updateBorrowedBookList();
                    updateReturnBooksAV();
                    fetchTables();
                    updateStatistics();
                }
            } else {
                JOptionPane.showMessageDialog(this, "Please select the line of a book", "Warning!", JOptionPane.WARNING_MESSAGE);
            }
//            System.out.println("Return Books implemented");
        } catch (Exception ex) {
            JOptionPane.showMessageDialog(this, "Unexpected error, please try again", "Error", JOptionPane.ERROR_MESSAGE);
            System.out.println("Error whilst clicking returnBooksButton: " + ex.getMessage());
        }
    }//GEN-LAST:event_jButton10ReturnBooksAVActionPerformed

    private void jButton11AddUserAVActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton11AddUserAVActionPerformed
        try {
            new UserDialog(this, true, true).setVisible(true);
            objects.updateUserList();
            fetchTables();
            updateStatistics();
        } catch (Exception ex) {
            JOptionPane.showMessageDialog(this, "Unexpected error, please try again", "Error", JOptionPane.ERROR_MESSAGE);
            System.out.println("Error whilst clicking addUserButton: " + ex.getMessage());
        }
    }//GEN-LAST:event_jButton11AddUserAVActionPerformed

    private void jButton12EditUserAVActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton12EditUserAVActionPerformed
        try {
            int rowNumber = jTable4UserManagementAV.getSelectedRow();

            if (rowNumber >= 0) {
                String password = "";
                // Holt sich Werte um ins Textfield einzusetzen
                String firstName = (String) jTable4UserManagementAV.getValueAt(rowNumber, 0);
                String lastName = (String) jTable4UserManagementAV.getValueAt(rowNumber, 1);
                String userName = (String) jTable4UserManagementAV.getValueAt(rowNumber, 2);
                String email = (String) jTable4UserManagementAV.getValueAt(rowNumber, 3);
                String phoneNumber = (String) jTable4UserManagementAV.getValueAt(rowNumber, 4);

                // Holt sich password nach dem username (muss unique sein)
                objects.updateUserList();
                for (User user : objects.getUsers()) {
                    if (user.getUsername().equals(userName)) {
                        password = user.getPassword();
                        break;
                    }
                }

                User user = new User(firstName, lastName, userName, email, phoneNumber, password);
                new UserDialog(this, true, false, user).setVisible(true);
                objects.updateUserList();
                fetchTables();
                updateStatistics();
            } else {
                JOptionPane.showMessageDialog(this, "Please click on the line you want to edit!", "Warning!", JOptionPane.WARNING_MESSAGE);
            }
        } catch (Exception ex) {
            JOptionPane.showMessageDialog(this, "Unexpected error, please try again", "Error", JOptionPane.ERROR_MESSAGE);
            System.out.println("Error whilst clicking editUserButton: " + ex.getMessage());
        }
    }//GEN-LAST:event_jButton12EditUserAVActionPerformed

    private void jButton13DeleteUserAVActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton13DeleteUserAVActionPerformed
        try {
            int rowNumber = jTable4UserManagementAV.getSelectedRow(); // Holt Nummer der ausgewählten Reihe

            if (rowNumber >= 0) {   // Check ob Reihe ausgewählt ist
                String username = (String) jTable4UserManagementAV.getValueAt(rowNumber, 2);
                if (JOptionPane.showConfirmDialog(this, "Do you really want to delete user " + username + "?", "Are you shure?", JOptionPane.OK_CANCEL_OPTION) == 0) { // ConfirmPane
                    removeUser(username);
                    objects.updateUserList();
                    updateStatistics();
                    fetchTables();
                }
            } else { // Fehlermessage
                JOptionPane.showMessageDialog(this, "Please select the line of a user you want to delete!", "Warning!", JOptionPane.WARNING_MESSAGE);
            }
        } catch (Exception ex) {
            JOptionPane.showMessageDialog(this, "Unexpected error, please try again", "Error", JOptionPane.ERROR_MESSAGE);
            System.out.println("Error whilst clicking deleteBook: " + ex.getMessage());
        }
    }//GEN-LAST:event_jButton13DeleteUserAVActionPerformed


    // Erstellt Tabellen
    private void setTableModels() {
        jTable1BooksOverviewAV.setAutoCreateRowSorter(true);
        jTable2BookManagementAV.setAutoCreateRowSorter(true);
        jTable3ReturnBooksAV.setAutoCreateRowSorter(true);
        jTable4UserManagementAV.setAutoCreateRowSorter(true);

        // Für icons
        jTable1BooksOverviewAV.setRowHeight(65);
        jTable2BookManagementAV.setRowHeight(65);

        // Verhindert multi selection
        jTable1BooksOverviewAV.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
        jTable2BookManagementAV.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
        jTable3ReturnBooksAV.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
        jTable4UserManagementAV.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);

        // Layout Werte
        String[] bookColumnNames = {"Cover", "Title", "Author", "Pages", "ISBN", "Location", "Availability"};
        String[] userColumnNames = {"First Name", "Last Name", "Username", "Email", "Phonenumber", "Borrowed Books"};
        String[] returnBookColumnNames = {"Title", "Author", "ISBN", "Username", "Borrowed on", "Due Date"};

        jTable1BooksOverviewAV.setModel(new javax.swing.table.DefaultTableModel(bookColumnNames, 0));
        jTable2BookManagementAV.setModel(new javax.swing.table.DefaultTableModel(bookColumnNames, 0));
        jTable3ReturnBooksAV.setModel(new javax.swing.table.DefaultTableModel(returnBookColumnNames, 0));
        jTable4UserManagementAV.setModel(new javax.swing.table.DefaultTableModel(userColumnNames, 0));

        // Layout der Tabellen
        // Todo in eigene Klasse und dann checken von welcher Klasse die neue aufgerufen wird
        TableCellRenderer originalRenderer = jTable1BooksOverviewAV.getDefaultRenderer(Object.class);
        jTable1BooksOverviewAV.setDefaultRenderer(Object.class, new CellRenderer(originalRenderer));
        jTable1BooksOverviewAV.getColumnModel().getColumn(0).setCellRenderer(new ImageRenderer()); // Implementiert Book Cover
        jTable2BookManagementAV.setDefaultRenderer(Object.class, new CellRenderer(originalRenderer));
        jTable2BookManagementAV.getColumnModel().getColumn(0).setCellRenderer(new ImageRenderer()); // Implementiert Book Cover
        jTable4UserManagementAV.setDefaultRenderer(Object.class, new CellRenderer(originalRenderer));
        jTable3ReturnBooksAV.setDefaultRenderer(Object.class, new CellRendererReturnBooks(originalRenderer));
    }

    // Fetched Tabellen
    private void fetchTables() {
        updateBookOverviewAV();
        updateBookManagement();
        updateUserManagementAV();
    }

    // Updated Tabellen
    private void updateBookOverviewAV() {
        DefaultTableModel modelBookOverview = (DefaultTableModel) jTable1BooksOverviewAV.getModel();
        modelBookOverview.setRowCount(0);

        for (Book book : objects.getBooks()) {
            String cover = book.getCoverLocation();
            String title = book.getTitle();
            String author = book.getAuthor();
            String pages = book.getPages();
            String isbn = book.getIsbn();
            String location = book.getLocation();
            String availability = book.getAvailability();

            Object[] data = {cover, title, author, pages, isbn, location, availability};
            modelBookOverview.addRow(data);
        }
    }

    private void updateBookManagement() {
        DefaultTableModel modelBookManagement = (DefaultTableModel) jTable2BookManagementAV.getModel();
        modelBookManagement.setRowCount(0);

        for (Book book : objects.getBooks()) {
            String cover = book.getCoverLocation();
            String title = book.getTitle();
            String author = book.getAuthor();
            String pages = book.getPages();
            String isbn = book.getIsbn();
            String location = book.getLocation();
            String availability = book.getAvailability();
            Object[] data = {cover, title, author, pages, isbn, location, availability};
            modelBookManagement.addRow(data);
        }
    }

    private void updateUserManagementAV() {
//        System.out.println("UpdateUserManagement");
        DefaultTableModel modelUserOverview = (DefaultTableModel) jTable4UserManagementAV.getModel();
        modelUserOverview.setRowCount(0);

        for (User user : objects.getUsers()) {
            int borrowedBooks = 0;
            String firstName = user.getFirstName();
            String lastName = user.getLastName();
            String userName = user.getUsername();
            String email = user.getEmail();
            String phoneNumber = user.getPhoneNumber();

            // Todo O(n^2) optimieren
            for (BorrowedBooks bowBook : objects.getBorrowedBooks()) {
                if (bowBook.getUsername().equals(userName)) borrowedBooks++;
            }

            Object[] data = {firstName, lastName, userName, email, phoneNumber, borrowedBooks};
            modelUserOverview.addRow(data);
        }
    }

    private void updateReturnBooksAV() {
        DefaultTableModel modelReturnBooksOverview = (DefaultTableModel) jTable3ReturnBooksAV.getModel();
        modelReturnBooksOverview.setRowCount(0);
        String title = "";
        String author = "";

        for (BorrowedBooks borrowedBooks : objects.getBorrowedBooks()) {
            String isbn = borrowedBooks.getIsbn();
            String username = borrowedBooks.getUsername();
            String borrowDate = borrowedBooks.getBorrowDate();
            String dueDate = borrowedBooks.getDueDate();

            // Todo sollte man recoden sodass kein O(n^2)
            for (Book book : objects.getBooks()) {
                if (book.getIsbn().equals(isbn)) {
                    title = book.getTitle();
                    author = book.getAuthor();
                }
            }

            Object[] data = {title, author, isbn, username, borrowDate, dueDate};
            modelReturnBooksOverview.addRow(data);
        }
    }

    // Todo move in Analytics
    public static boolean checkDeadlineExceed(String borrowDate, String dueDate) {
        int deadlineTime = 31;
        try {
            // Konvertiert String Date zu Date
            Date borrowDateTime = new SimpleDateFormat("dd/MM/yyyy").parse(borrowDate);
            Date dueDateTime = new SimpleDateFormat("dd/MM/yyyy").parse(dueDate);

            // Berechnet Zeitunterschied
            long differenceTime = dueDateTime.getTime() - borrowDateTime.getTime();
            long differenceDays = ((differenceTime / (1000 * 60 * 60 * 24)) % 365) - deadlineTime;

//            System.out.println("DIFFERENCE DAYS: " + differenceDays);

            return differenceDays > deadlineTime;
        } catch (ParseException e) {
            throw new RuntimeException(e);
        }
    }

    private void returnBook(String isbn, String username) {
        File file = new File("src/main/resources/borrowedbooks.txt");
        if (file.length() != 0) {
            JSONParser jsonParser = new JSONParser();
            try (FileReader fileReader = new FileReader("src/main/resources/borrowedbooks.txt")) {
                Object obj = jsonParser.parse(fileReader);
                jsonArrayBorrowedBooks = (JSONArray) obj;
            } catch (org.json.simple.parser.ParseException | IOException e) {
                e.printStackTrace();
            }
        }

        File file2 = new File("src/main/resources/books.txt");
        if (file2.length() != 0) {
            JSONParser jsonParser = new JSONParser();
            try (FileReader fileReader = new FileReader("src/main/resources/books.txt")) {
                Object obj = jsonParser.parse(fileReader);
                jsonArrayBooks = (JSONArray) obj;
            } catch (org.json.simple.parser.ParseException | IOException e) {
                e.printStackTrace();
            }
        }

        for (int i = 0; i < jsonArrayBooks.size(); i++) {
            JSONObject jsonObject = (JSONObject) jsonArrayBooks.get(i);
            Object book = jsonObject.get("Book");
            JSONObject bookObj = (JSONObject) book;
            if (bookObj.get("ISBN").toString().equals(isbn)) {
                bookObj.put("Availability", "Available");
                jsonObject.put("Book", bookObj);
                break;
            }
        }

        for (int i = 0; i < jsonArrayBorrowedBooks.size(); i++) {
            JSONObject jsonObject = (JSONObject) jsonArrayBorrowedBooks.get(i);
            Object book = jsonObject.get("BorrowedBook");
            JSONObject bookObj = (JSONObject) book;
            if (bookObj.get("ISBN").toString().equals(isbn) && bookObj.get("Username").toString().equals(username)) {
                jsonArrayBorrowedBooks.remove(jsonObject);
            }
        }

        try (FileWriter fileWriter = new FileWriter("src/main/resources/books.txt")) {
            fileWriter.write(jsonArrayBooks.toJSONString());
        } catch (IOException e) {
            e.printStackTrace();
        }

        try (FileWriter fileWriter2 = new FileWriter("src/main/resources/borrowedbooks.txt")) {
            fileWriter2.write(jsonArrayBorrowedBooks.toJSONString());
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    private void removeBook(String isbn) {
        File file = new File("src/main/resources/books.txt");
        if (file.length() != 0) {
            JSONParser jsonParser = new JSONParser();
            try (FileReader fileReader = new FileReader("src/main/resources/books.txt")) {
                Object obj = jsonParser.parse(fileReader);
                jsonArrayBooks = (JSONArray) obj;
            } catch (org.json.simple.parser.ParseException | IOException e) {
                e.printStackTrace();
            }
        }
        for (int i = 0; i < jsonArrayBooks.size(); i++) {
            JSONObject jsonObject = (JSONObject) jsonArrayBooks.get(i);
            Object book = jsonObject.get("Book");
            JSONObject bookObj = (JSONObject) book;
            if (bookObj.get("ISBN").toString().equals(isbn)) {
                jsonArrayBooks.remove(jsonObject);
            }
        }
        try (FileWriter fileWriter = new FileWriter("src/main/resources/books.txt")) {
            fileWriter.write(jsonArrayBooks.toJSONString());
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    private void removeUser(String username) {
        // Todo sollte mittels FetchObjects realisiert werden
        File file = new File("src/main/resources/users.txt");
        if (file.length() != 0) {
            JSONParser jsonParser = new JSONParser();
            try (FileReader fileReader = new FileReader("src/main/resources/users.txt")) {
                Object obj = jsonParser.parse(fileReader);
                jsonArrayUsers = (JSONArray) obj;
            } catch (org.json.simple.parser.ParseException | IOException e) {
                e.printStackTrace();
            }
        }

        // Get Borrowed Books Count
        int borrowedBookAmount = 0;
        for (BorrowedBooks bowBook : objects.getBorrowedBooks()) {
            if (bowBook.getUsername().equals(username)) {
                borrowedBookAmount++;
            }
        }
        // Check ob BowBookAmount == 0 ist -> Dann delete sonst nein
        if (borrowedBookAmount == 0) {
            for (int i = 0; i < jsonArrayUsers.size(); i++) {
                JSONObject jsonObject = (JSONObject) jsonArrayUsers.get(i);
                Object user = jsonObject.get("User");
                JSONObject userObj = (JSONObject) user;
                if (userObj.get("UserName").toString().equals(username)) {
                    jsonArrayUsers.remove(jsonObject);
                    break;
                }
            }
        } else {
            String singularBook = " book";
            String pluralBook = " books";
            JOptionPane.showMessageDialog(this, "The selected user still has " + borrowedBookAmount + (borrowedBookAmount > 0 ? singularBook : pluralBook), "Error", JOptionPane.ERROR_MESSAGE);
        }

        try (FileWriter fileWriter = new FileWriter("src/main/resources/users.txt")) {
            fileWriter.write(jsonArrayUsers.toJSONString());
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    // Entfernt Selection der Reihe
    private void clearTableSelection() {
        jTable1BooksOverviewAV.getSelectionModel().clearSelection();
        jTable2BookManagementAV.getSelectionModel().clearSelection();
        jTable3ReturnBooksAV.getSelectionModel().clearSelection();
        jTable4UserManagementAV.getSelectionModel().clearSelection();
    }


    // Holt sich die Statistiken für die Panel
    private void updateStatistics() {
        analytics.getAnalytics("");
        jLabel6AllBooksSubtitleAV.setText(Integer.toString(analytics.getBookAmount()));
        jLabel8AvBooksSubtitleAV.setText(Integer.toString(analytics.getAvailableBooks()));
        jLabel10BowBooksSubtitleAV.setText(Integer.toString(analytics.getBorrowedBooks()));
        jLabel12BowBooksDeadlineSubtitleAV.setText(Integer.toString(analytics.getBorrowedBooksOverDeadline()));
        jLabel14RegUsersSubtitleAV.setText(Integer.toString(analytics.getUserAmount()));
    }

    // Fügt Icon hinzu
    private void addIcons() {
        jLabel2IconAV.setIcon(new javax.swing.ImageIcon(Objects.requireNonNull(getClass().getResource("/icons/LmsIcon.png"))));
    }

    private void addTableListener() {
        jTextField1BooksOverviewSearchAV.getDocument().addDocumentListener(
                new DocumentListener() {
                    @Override
                    public void insertUpdate(DocumentEvent e) {
                        searchBooksOverviewTable(jTextField1BooksOverviewSearchAV.getText());
                    }

                    @Override
                    public void removeUpdate(DocumentEvent e) {
                        searchBooksOverviewTable(jTextField1BooksOverviewSearchAV.getText());
                    }

                    @Override
                    public void changedUpdate(DocumentEvent e) {
                        searchBooksOverviewTable(jTextField1BooksOverviewSearchAV.getText());
                    }
                }
        );
        jTextField2BookManagementSearchAV.getDocument().addDocumentListener(
                new DocumentListener() {
                    @Override
                    public void insertUpdate(DocumentEvent e) {
                        searchBooksManagement(jTextField2BookManagementSearchAV.getText());
                    }

                    @Override
                    public void removeUpdate(DocumentEvent e) {
                        searchBooksManagement(jTextField2BookManagementSearchAV.getText());
                    }

                    @Override
                    public void changedUpdate(DocumentEvent e) {
                        searchBooksManagement(jTextField2BookManagementSearchAV.getText());
                    }
                }
        );
        jTextField3ReturnBooksAV.getDocument().addDocumentListener(
                new DocumentListener() {
                    @Override
                    public void insertUpdate(DocumentEvent e) {
                        searchReturnBooksTable(jTextField3ReturnBooksAV.getText());
                    }

                    @Override
                    public void removeUpdate(DocumentEvent e) {
                        searchReturnBooksTable(jTextField3ReturnBooksAV.getText());
                    }

                    @Override
                    public void changedUpdate(DocumentEvent e) {
                        searchReturnBooksTable(jTextField3ReturnBooksAV.getText());
                    }
                }
        );
        jTextField4UserManagementSearchAV.getDocument().addDocumentListener(
                new DocumentListener() {
                    @Override
                    public void insertUpdate(DocumentEvent e) {
                        searchUserManagementTable(jTextField4UserManagementSearchAV.getText());
                    }

                    @Override
                    public void removeUpdate(DocumentEvent e) {
                        searchUserManagementTable(jTextField4UserManagementSearchAV.getText());
                    }

                    @Override
                    public void changedUpdate(DocumentEvent e) {
                        searchUserManagementTable(jTextField4UserManagementSearchAV.getText());
                    }
                }
        );
    }

    // Searchfunktionen
    private void searchBooksOverviewTable(String input) {
        DefaultTableModel currTableModelBooksOverview = (DefaultTableModel) jTable1BooksOverviewAV.getModel();
        currTableModelBooksOverview.setRowCount(0); // Table wird geleert

        for (Book book : objects.getBooks()) {
            String cover = book.getCoverLocation();
            String title = book.getTitle();
            String author = book.getAuthor();
            String pages = book.getPages();
            String isbn = book.getIsbn();
            String location = book.getLocation();
            String availability = book.getAvailability();

            if (title.contains(input) || author.contains(input) || pages.contains(input) || isbn.contains(input) || location.contains(input)) {
                Object[] row = {cover, title, author, pages, isbn, location, availability};
                currTableModelBooksOverview.addRow(row);
            }
        }
    }

    // Todo code zusammenlegen
    private void searchBooksManagement(String input) {
        DefaultTableModel currTableModelBookManagement = (DefaultTableModel) jTable2BookManagementAV.getModel();
        currTableModelBookManagement.setRowCount(0); // Table wird geleert

        for (Book book : objects.getBooks()) {
            String cover = book.getCoverLocation();
            String title = book.getTitle();
            String author = book.getAuthor();
            String pages = book.getPages();
            String isbn = book.getIsbn();
            String location = book.getLocation();
            String availability = book.getAvailability();

            if (title.contains(input) || author.contains(input) || pages.contains(input) || isbn.contains(input) || location.contains(input)) {
                Object[] row = {cover, title, author, pages, isbn, location, availability};
                currTableModelBookManagement.addRow(row);
            }
        }
    }

    private void searchReturnBooksTable(String input) {
        DefaultTableModel currTableModel = (DefaultTableModel) jTable3ReturnBooksAV.getModel();
        currTableModel.setRowCount(0); // Table wird geleert

        for (BorrowedBooks bowBook : objects.getBorrowedBooks()) {
            // Todo sollte man recoden sodass kein O(n^2)
            String title = "";
            String author = "";
            String username = bowBook.getUsername();
            String isbn = bowBook.getIsbn();
            String bowDate = bowBook.getBorrowDate();
            String dueDate = bowBook.getDueDate();
            for (Book book : objects.getBooks()) {
                if (book.getIsbn().equals(isbn)) {
                    title = book.getTitle();
                    author = book.getAuthor();
                }
            }
            if (title.contains(input) || author.contains(input) || username.contains(input) || bowDate.contains(input) || dueDate.contains(input)) {
                Object[] row = {title, author, username, isbn, bowDate, dueDate};
                currTableModel.addRow(row);
            }
        }
    }

    private void searchUserManagementTable(String input) {
        DefaultTableModel currTableModel = (DefaultTableModel) jTable4UserManagementAV.getModel();
        currTableModel.setRowCount(0); // Table wird geleert

        for (User user : objects.getUsers()) {
            int borrowedBooks = 0;
            String firstName = user.getFirstName();
            String lastName = user.getLastName();
            String username = user.getUsername();
            String email = user.getEmail();
            String phoneNumber = user.getPhoneNumber();

            for (BorrowedBooks bowBook : objects.getBorrowedBooks()) {
                if (bowBook.getUsername().equals(username)) {
                    borrowedBooks++;
                }
            }

            if (firstName.contains(input) || lastName.contains(input) || username.contains(input) || email.contains(input) || phoneNumber.contains(input) || Integer.toString(borrowedBooks).contains(input)) {
                Object[] row = {firstName, lastName, username, email, phoneNumber, borrowedBooks};
                currTableModel.addRow(row);
            }
        }
    }

    private void setNimbusLook() {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException | InstantiationException | IllegalAccessException |
                 UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(AdminView.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton jButton10ReturnBooksAV;
    private javax.swing.JButton jButton11AddUserAV;
    private javax.swing.JButton jButton12EditUserAV;
    private javax.swing.JButton jButton13DeleteUserAV;
    private javax.swing.JButton jButton1BookOverviewAV;
    private javax.swing.JButton jButton2BookManagementAV;
    private javax.swing.JButton jButton3ReturnBooksAV;
    private javax.swing.JButton jButton4UserManagementAV;
    private javax.swing.JButton jButton5LogoutAV;
    private javax.swing.JButton jButton6AddBookAV;
    private javax.swing.JButton jButton7EditBookAV;
    private javax.swing.JButton jButton8DeleteBookAV;
    private javax.swing.JButton jButton9BorrowBookAV;
    private javax.swing.JLabel jLabel10BowBooksSubtitleAV;
    private javax.swing.JLabel jLabel11BowBooksDeadlineTitleAV;
    private javax.swing.JLabel jLabel12BowBooksDeadlineSubtitleAV;
    private javax.swing.JLabel jLabel13RegUsersTitleAV;
    private javax.swing.JLabel jLabel14RegUsersSubtitleAV;
    private javax.swing.JLabel jLabel15BooksOverviewSearchAV;
    private javax.swing.JLabel jLabel16BookManagementTitleAV;
    private javax.swing.JLabel jLabel17BookManagementSearchAV;
    private javax.swing.JLabel jLabel17ReturnBooksTitleAV;
    private javax.swing.JLabel jLabel18ReturnBooksSearchAV;
    private javax.swing.JLabel jLabel19UserManagementTitleAV;
    private javax.swing.JLabel jLabel1TitleAV;
    private javax.swing.JLabel jLabel20UserManagementSearchAV;
    private javax.swing.JLabel jLabel2IconAV;
    private javax.swing.JLabel jLabel3SubtitleAV;
    private javax.swing.JLabel jLabel4TitleBooksOverviewAV;
    private javax.swing.JLabel jLabel5AllBooksTitleAV;
    private javax.swing.JLabel jLabel6AllBooksSubtitleAV;
    private javax.swing.JLabel jLabel7AvBooksTitleAV;
    private javax.swing.JLabel jLabel8AvBooksSubtitleAV;
    private javax.swing.JLabel jLabel9BowBooksTitleAV;
    private javax.swing.JLayeredPane jLayeredPane1;
    private javax.swing.JPanel jPanel10MainBookManagementAV;
    private javax.swing.JPanel jPanel11BookManagementButtonsAV;
    private javax.swing.JPanel jPanel12BookManagementTableAV;
    private javax.swing.JPanel jPanel13MainReturnBooksAV;
    private javax.swing.JPanel jPanel14ReturnBooksButtonsAV;
    private javax.swing.JPanel jPanel15ReturnBooksTableAV;
    private javax.swing.JPanel jPanel16MainUserManagementAV;
    private javax.swing.JPanel jPanel17UserManagementButtonsAV;
    private javax.swing.JPanel jPanel18UserManagementTableAV;
    private javax.swing.JPanel jPanel1MenubarAV;
    private javax.swing.JPanel jPanel2TitleBlockAV;
    private javax.swing.JPanel jPanel3MainBooksOverviewAV;
    private javax.swing.JPanel jPanel4BooksOverviewUV;
    private javax.swing.JPanel jPanel5AllBooksAV;
    private javax.swing.JPanel jPanel6AvBooksAV;
    private javax.swing.JPanel jPanel6BowBooksAV;
    private javax.swing.JPanel jPanel7BowBooksDeadlineAV;
    private javax.swing.JPanel jPanel8RegUsersAV;
    private javax.swing.JPanel jPanel9BooksOverviewTableAV;
    private javax.swing.JScrollPane jScrollPaneBookManagementAV;
    private javax.swing.JScrollPane jScrollPaneBooksOverviewAV;
    private javax.swing.JScrollPane jScrollPaneReturnBooksAV;
    private javax.swing.JScrollPane jScrollPaneUserManagementAV;
    private javax.swing.JTable jTable1BooksOverviewAV;
    private javax.swing.JTable jTable2BookManagementAV;
    private javax.swing.JTable jTable3ReturnBooksAV;
    private javax.swing.JTable jTable4UserManagementAV;
    private javax.swing.JTextField jTextField1BooksOverviewSearchAV;
    private javax.swing.JTextField jTextField2BookManagementSearchAV;
    private javax.swing.JTextField jTextField3ReturnBooksAV;
    private javax.swing.JTextField jTextField4UserManagementSearchAV;
    // End of variables declaration//GEN-END:variables
}
